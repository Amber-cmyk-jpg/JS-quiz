/* ---------- BASE ---------- */
body {
  margin:0; padding:0;
  font-family:'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg,#00cfff,#00ff88);
  min-height:100vh; 
  overflow-x:hidden;
  display:flex;
   justify-content:center;
   align-items:flex-start;
  position:relative;
}

/* ---------- CANVAS ---------- */
#bg-canvas {
   position:fixed;
   top:0; 
  left:0;
   width:100%; 
  height:100%;
   z-index:0;
   }

/* ---------- CONTAINERS ---------- */
.centered-container, .result-screen, #leaderboard-container {
  max-width:620px;
  width:92%;
  margin:60px auto;
  background:rgba(255,255,255,0.96);
  border-radius:18px;
   padding:28px 22px; 
  text-align:center;
  box-shadow:0 6px 32px rgba(0,0,0,0.12);
  position:relative;
   z-index:2;
   animation: fadeIn 0.5s;
}
@keyframes fadeIn { 
  from{opacity:0;
   transform:translateY(10px);} to{opacity:1;
     transform:translateY(0);}
     }

h1,h2 { 
  margin-bottom:14px;
   font-weight:700;
 }
input[type="text"] {
  width:86%; 
  padding:12px;
   font-size:1.05em;
   border-radius:10px;
  border:1px solid #e6e6e6;
   margin-bottom:14px;
}

.difficulty-row {
   display:flex;
   gap:12px;
   justify-content:center; 
  margin-bottom:12px;
}
.diff-btn {
  border:none;
   border-radius:12px; 
   padding:10px 16px;
    cursor:pointer;
  background:#fff;
   color:#111; 
   font-weight:700; 
   display:flex;
    gap:8px; 
    align-items:center;
  box-shadow:0 6px 18px rgba(0,0,0,0.06);
   transform-origin:center;
  transition:transform .18s ease, box-shadow .18s ease, background .18s;
}
.diff-btn span {
   font-size:1.1em;
   }
.diff-btn:hover {
   transform:translateY(-6px) scale(1.02);
    box-shadow:0 10px 28px rgba(0,0,0,0.12); }

.diff-btn[data-diff="beginner"] {
   background: linear-gradient(135deg,#e6ffe9,#d0ffd8);
    color:#006b2e; 
  }
.diff-btn[data-diff="intermediate"] {
   background: linear-gradient(135deg,#fff6e6,#ffe8c7); 
   color:#7a4b00;
   }
.diff-btn[data-diff="advanced"] { 
  background: linear-gradient(135deg,#ffe6ff,#ffd0ff); 
  color:#6b006b; 
}

.diff-btn.selected {
  box-shadow:0 18px 40px rgba(0,0,0,0.18);
  transform:translateY(-8px) scale(1.03);
  outline: 4px solid rgba(0,255,150,0.12);
}

.start-row {
   display:flex;
    gap:12px; 
    justify-content:center;
     margin-top:12px;
      flex-wrap:wrap; }
.primary-btn {
  border:none;
   border-radius:12px;
    padding:12px 20px; 
    font-size:1em;
     cursor:pointer;
  background:linear-gradient(135deg,#00cfff,#00ff88); 
  color:#fff;
   font-weight:700;
  box-shadow:0 8px 30px rgba(0,0,0,0.12); 
  transition:transform .18s;
}
.primary-btn:hover {
   transform:scale(1.04); 
  }

.secondary-btn {
  background:#fff; 
  color:#00cfff;
   border:2px solid #00cfff;
    border-radius:12px;
     padding:10px 16px;
}

.hint {
   margin-top:8px; 
   color:#556; 
   font-size:0.95em; 
  }

.timer-area { 
  display:flex; 
  align-items:center;
   justify-content:space-between;
    margin-bottom:18px;
     gap:12px;
     }
#timer-circle {
  width:70px;
   height:70px; 
   border:5px solid #00ff88;
    border-radius:50%;
  display:flex; 
  align-items:center;
   justify-content:center;
    font-size:1.2em; 
    font-weight:700;
  background:#fff; 
  animation:pulse 1.5s infinite;
}
@keyframes pulse {
   0%{transform:scale(1);} 
  50%{transform:scale(1.04);} 
  100%{transform:scale(1);} 
}

.progress-bar { 
  flex:1;
   height:14px; 
   background:#eee;
    border-radius:8px; 
    overflow:hidden;
     margin-left:12px; 
    }
.progress { 
  height:100%; 
  width:0%;
   background:linear-gradient(90deg,#00ff88,#00cfff);
    transition:width 1s linear;
   }

.question {
   font-size:1.1em; 
   margin:16px 0;
    min-height:44px;
     font-weight:600;
     }
.options {
   list-style:none;
    padding:0;
     margin:0;
      display:flex; 
      flex-direction:column;
       gap:10px;
       }
.option-btn {
  background:#fff;
   color:#00cfff;
    border:2px solid #00cfff; 
    font-weight:700;
  border-radius:12px;
   padding:12px 16px;
    cursor:pointer;
     transition:transform .18s, box-shadow .18s;
  box-shadow:0 6px 20px rgba(0,0,0,0.06);
   text-align:left;
}
.option-btn:hover {
   transform:scale(1.03);
   }
.option-btn.correct {
   background:#00ff88; color:#003;
    border-color:#00ff88;
   }
.option-btn.wrong {
   background:#ff5c5c; color:#fff;
    border-color:#ff5c5c; 
  }

.option-btn.selected-by-keyboard {
  outline: 3px solid rgba(0,255,150,0.9);
  box-shadow: 0 10px 30px rgba(0,255,150,0.12);
}

.result-screen.hidden {
   display:none;
   }
.result-screen .trophy { 
  font-size:3em; 
  margin-bottom:12px;
   transform:scale(0);
    animation: trophy-pop 0.8s forwards;
   }
@keyframes trophy-pop {
  0%{transform:scale(0);}
  50%{transform:scale(1.5);}
  100%{transform:scale(1);} 
}

.share-row { 
  display:flex; 
  justify-content:center; 
  gap:12px;
   margin-bottom:18px; 
   flex-wrap:wrap;
   }
.share-btn {
   background:linear-gradient(135deg,#00ff88,#00cfff);
    color:#fff;
     border-radius:50%;
      padding:12px;
       font-size:1.3em;
        cursor:pointer; 
        box-shadow:0 6px 16px rgba(0,0,0,0.14); }
.share-btn:hover { 
  transform:scale(1.15) rotate(-10deg); }

.music-btn {
  position:fixed;
   top:16px;
    right:16px; 
    z-index:10;
  background:linear-gradient(135deg,#00ff88,#00cfff); 
  color:#fff;
  border-radius:50%;
   padding:12px; 
   font-size:1.2em;
    cursor:pointer;
     box-shadow:0 6px 16px rgba(0,0,0,0.18);
}
.music-btn.active {
   animation: musicGlow 1.2s ease-in-out infinite alternate; 
  }
@keyframes musicGlow {
   from { box-shadow:0 6px 18px rgba(0,255,150,0.3);} to { box-shadow:0 12px 36px rgba(0,255,150,0.9); 
    transform:rotate(6deg);}
   }

.confetti-piece {
   position:absolute;
    width:10px;
     height:10px;
      border-radius:50%; 
      opacity:0.95; 
      animation: confetti-fall linear forwards;
     }
@keyframes confetti-fall {
   to { transform: translateY(100vh) rotate(360deg); opacity:0.2; } 
  }

#lightning-overlay {
  position: fixed; 
  top:0;
   left:0;
    width:100vw;
     height:100vh;
  background: rgba(255,255,255,0.8);
   pointer-events: none; 
   opacity:0; 
   z-index:999;
}
.lightning-flash {
   animation: lightning-strike 0.35s ease-out; 
  }
@keyframes lightning-strike {
   0%{opacity:1;} 50%{opacity:0.4;} 100%{opacity:0;} 
  }

@media (max-width:600px){
  #timer-circle { width:54px;
     height:54px; 
    font-size:1em; }
  .diff-btn {
     padding:10px;
     font-size:0.95em; }
  .centered-container { 
    padding:18px;
     margin:40px 12px; }
}

#leaderboard-container {
   display:none;
   padding:24px;
   }
#leaderboard-list {
  list-style:none; 
  padding:0; 
  margin:0;
}

.leader-item {
  display:flex;
   justify-content:space-between;
   align-items:center;
  padding:14px 20px;
   margin:8px 0;
  background:rgba(0,255,136,0.05);
  border-radius:14px;
   color:#003; 
  font-weight:700;
  font-size:1.05rem; 
  opacity:0;
   transform:translateY(-30px);
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  animation: slideIn 0.5s forwards;
  transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
}

.leader-item:hover {
  transform:scale(1.03);
  box-shadow:0 12px 28px rgba(0,0,0,0.16);
  background:rgba(0,255,136,0.15);
}

.rank {
  flex:0 0 50px;
  font-size:1.1em;
  display:flex;
   align-items:center; 
  justify-content:center;
}

.player-name {
   flex:1;
   text-align:left; 
  margin-left:12px; 
}
.player-score { 
  flex:0 0 50px; 
  text-align:right; 
}

@keyframes slideIn {
  from { opacity:0; transform:translateY(-30px); }
  to { opacity:1; transform:translateY(0); }
}

@keyframes crownBounce {
  0% { transform:translateY(0); }
  50% { transform:translateY(-6px); }
  100% { transform:translateY(0); }
}

@media(max-width:600px){
  .leader-item {
     padding:10px 14px;
     font-size:0.95rem; }
  .rank, .player-score { 
    flex:0 0 40px;
     font-size:0.95em; }
}

.leader-item {
  transition: transform 0.5s ease, opacity 0.5s ease, background 0.3s;
  position: relative; 
}

.leader-item.new {
  background: rgba(0,255,150,0.2);
  animation: newScoreFlash 1s ease-out;
}

@keyframes newScoreFlash {
  0% { background: rgba(0,255,150,0.5); }
  100% { background: rgba(0,255,150,0.05); }
}

@keyframes glowPulse {
  0% { transform: scale(1);
     box-shadow: 0 0 15px #00ff88, 0 0 25px #00cfff; }
  50% { transform: scale(1.05);
     box-shadow: 0 0 25px #00ff88, 0 0 40px #00cfff; }
  100% { transform: scale(1);
     box-shadow: 0 0 15px #00ff88, 0 0 25px #00cfff; }
}

.leader-item.new-high-score {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
}

.crown {
  display: inline-block;
  font-size: 1.3em;
  margin-right: 6px;
  transform-origin: center bottom;
  animation: crownFloat 1.8s ease-in-out infinite alternate;
}

.crown.gold { 
  color: gold;
   text-shadow: 0 0 6px #ffd700, 0 0 12px #ffe600; 
  filter: drop-shadow(0 0 4px rgba(255,255,255,0.7));
}
.crown.silver { color: #c0c0c0; text-shadow: 0 0 6px #eee, 0 0 12px #ccc; }
.crown.bronze { color: #cd7f32; text-shadow: 0 0 6px #d58f5c, 0 0 12px #c86d34; }

@keyframes crownFloat {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-3px) rotate(5deg); }
  100% { transform: translateY(0) rotate(-3deg); }
}

